<div class="rounded-xl border border-gray-200 bg-white p-4 shadow-sm" data-item-row>
  {% if form.DELETE %}
    <input type="checkbox" name="{{ form.DELETE.html_name }}" class="hidden" data-delete-flag>
  {% endif %}

  <div class="flex items-start gap-3">
    <button type="button" class="mt-2 text-gray-400 hover:text-gray-600 cursor-grab" title="Arraste para reordenar" data-drag-handle>
      &#8942;&#8942;
    </button>

    <div class="flex-1">
      <div class="grid gap-3 md:grid-cols-12">
        <div class="md:col-span-6">
          <label class="mb-1 block text-sm font-medium text-gray-900">Título</label>
          {{ form.titulo }}
        </div>
        <div class="md:col-span-3">
          <label class="mb-1 block text-sm font-medium text-gray-900">Etapa</label>
          {{ form.vinculado_a_etapa }}
        </div>
        <div class="md:col-span-3">
          <label class="mb-1 block text-sm font-medium text-gray-900">Prazo (dias)</label>
          {{ form.prazo_dias }}
        </div>

        <div class="md:col-span-12">
          <label class="mb-1 block text-sm font-medium text-gray-900">Descrição</label>
          {{ form.descricao }}
        </div>

        <div class="md:col-span-6">
          <label class="mb-1 block text-sm font-medium text-gray-900">Atribuído a</label>
          {{ form.atribuido_a }}
        </div>
        <div class="md:col-span-6 flex items-end gap-6">
          <label class="inline-flex items-center gap-2">
            {{ form.obrigatorio }} <span class="text-sm text-gray-900">Obrigatório</span>
          </label>
          <label class="inline-flex items-center gap-2">
            {{ form.requer_aprovacao }} <span class="text-sm text-gray-900">Requer aprovação</span>
          </label>
        </div>
      </div>
    </div>

    <div class="flex flex-col items-end gap-2">
      <button type="button"
              class="rounded-md border border-gray-300 bg-white px-2.5 py-1 text-xs font-medium text-gray-700 hover:bg-gray-50"
              onclick="duplicateRow(this)">
        Duplicar
      </button>
      <button type="button"
              class="rounded-md border border-red-200 bg-white px-2.5 py-1 text-xs font-medium text-red-600 hover:bg-red-50"
              onclick="removeRow(this)">
        Remover
      </button>
    </div>
  </div>
</div>
